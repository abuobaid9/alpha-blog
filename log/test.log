  [1m[35m (49.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "blogs_test"[0m
  [1m[35m (694.6ms)[0m  [1m[35mCREATE DATABASE "blogs_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "article_categories" CASCADE[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "article_categories" ("id" bigserial primary key, "article_id" integer, "category_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (16.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "admin" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (3.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230315100341)[0m
  [1m[35m (3.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200406103010),
(20200519124121),
(20230315100057),
(20230315100123);

[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-03-15 12:32:11.406301"], ["updated_at", "2023-03-15 12:32:11.406301"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "fdd098b5a89c781d846de0b50797f5aee69f7ef9"], ["created_at", "2023-03-15 12:32:11.412540"], ["updated_at", "2023-03-15 12:32:11.412540"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1595.9ms)[0m  [1m[35mCREATE DATABASE "blogs_test-3" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "article_categories" CASCADE[0m
  [1m[35m (29.0ms)[0m  [1m[35mCREATE TABLE "article_categories" ("id" bigserial primary key, "article_id" integer, "category_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (33.7ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (41.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (29.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "admin" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (33.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230315100341)[0m
  [1m[35m (6.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200406103010),
(20200519124121),
(20230315100057),
(20230315100123);

[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-03-15 12:32:13.306476"], ["updated_at", "2023-03-15 12:32:13.306476"]]
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "fdd098b5a89c781d846de0b50797f5aee69f7ef9"], ["created_at", "2023-03-15 12:32:13.316285"], ["updated_at", "2023-03-15 12:32:13.316285"]]
  [1m[36mTRANSACTION (10.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1855.0ms)[0m  [1m[35mCREATE DATABASE "blogs_test-0" ENCODING = 'unicode'[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "article_categories" CASCADE[0m
  [1m[36mCategory Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
CategoryTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoryTest: test_name_should_not_be_too_short
-----------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 12:32:13.351179"], ["updated_at", "2023-03-15 12:32:13.351179"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35m (24.3ms)[0m  [1m[35mCREATE TABLE "article_categories" ("id" bigserial primary key, "article_id" integer, "category_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (29.9ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 12:32:13.401623"], ["updated_at", "2023-03-15 12:32:13.401623"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.8ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$QyDx6H9bWNIQx8XFiB5jP.jzFpaDIaHXlemjyHPd61WzrwAp1km/K"], ["admin", true], ["created_at", "2023-03-15 12:32:13.411346"], ["updated_at", "2023-03-15 12:32:13.411346"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 15:32:13 +0300
  [1m[35m (28.0ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 2]]
  Rendered categories/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 9837)
  [1m[35m (38.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "admin" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (6.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230315100341)[0m
  [1m[35m (6.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200406103010),
(20200519124121),
(20230315100057),
(20230315100123);

[0m
  [1m[35m (30.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-03-15 12:32:13.552175"], ["updated_at", "2023-03-15 12:32:13.552175"]]
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "fdd098b5a89c781d846de0b50797f5aee69f7ef9"], ["created_at", "2023-03-15 12:32:13.562121"], ["updated_at", "2023-03-15 12:32:13.562121"]]
  [1m[36mTRANSACTION (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
CategoriesControllerTest: test_should_not_create_category_if_not_admin
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 12:32:13.606919"], ["updated_at", "2023-03-15 12:32:13.606919"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$/fneqvnuXwlTLCX9SsIjv.vma8zJNhjmFv39YvYw8ps1ZQnu9J9a2"], ["admin", true], ["created_at", "2023-03-15 12:32:13.616984"], ["updated_at", "2023-03-15 12:32:13.616984"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 15:32:13 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 1642)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 12:32:13.637814"], ["updated_at", "2023-03-15 12:32:13.637814"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$MWtEMOnKUbJ7xpEi2FsF9OmmfZxk3ogFcqfS/NfFJBP9cGYJBzLzS"], ["admin", true], ["created_at", "2023-03-15 12:32:13.640564"], ["updated_at", "2023-03-15 12:32:13.640564"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/2" for 127.0.0.1 at 2023-03-15 15:32:13 +0300
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 2]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 2], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 1.1ms | Allocations: 661)
  Rendered categories/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2292)
  [1m[35m (2263.3ms)[0m  [1m[35mCREATE DATABASE "blogs_test-2" ENCODING = 'unicode'[0m
  [1m[35m (2266.8ms)[0m  [1m[35mCREATE DATABASE "blogs_test-1" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "article_categories" CASCADE[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "article_categories" CASCADE[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "article_categories" ("id" bigserial primary key, "article_id" integer, "category_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (20.0ms)[0m  [1m[35mCREATE TABLE "article_categories" ("id" bigserial primary key, "article_id" integer, "category_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (37.3ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (37.2ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "description" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (34.0ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (34.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (28.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "admin" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (28.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying, "email" character varying, "password_digest" character varying, "admin" boolean DEFAULT FALSE, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (28.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (28.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230315100341)[0m
  [1m[35m (4.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230315100341)[0m
  [1m[35m (6.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200406103010),
(20200519124121),
(20230315100057),
(20230315100123);

[0m
  [1m[35m (6.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200406103010),
(20200519124121),
(20230315100057),
(20230315100123);

[0m
  [1m[35m (28.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (28.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-03-15 12:32:13.951276"], ["updated_at", "2023-03-15 12:32:13.951276"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-03-15 12:32:13.954397"], ["updated_at", "2023-03-15 12:32:13.954397"]]
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "fdd098b5a89c781d846de0b50797f5aee69f7ef9"], ["created_at", "2023-03-15 12:32:13.958741"], ["updated_at", "2023-03-15 12:32:13.958741"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "fdd098b5a89c781d846de0b50797f5aee69f7ef9"], ["created_at", "2023-03-15 12:32:13.961675"], ["updated_at", "2023-03-15 12:32:13.961675"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
CategoriesControllerTest: test_should_create_category
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 12:32:14.004362"], ["updated_at", "2023-03-15 12:32:14.004362"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$g1JmFEExjvDRMZqfzUi6yOuxGf2Da286g60UhimFVpsgiqstqNbeO"], ["admin", true], ["created_at", "2023-03-15 12:32:14.014147"], ["updated_at", "2023-03-15 12:32:14.014147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 15:32:14 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 12:32:14.025423"], ["updated_at", "2023-03-15 12:32:14.025423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 2460)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 15:32:14 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$S5DPA05bnUN1Ft4bjTz66ueIw0W/49oFa9KO3qGBMhHrwdDd/rV6K"], ["admin", true], ["created_at", "2023-03-15 12:32:14.039351"], ["updated_at", "2023-03-15 12:32:14.039351"]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
  Rendered categories/_form.html.erb (Duration: 2.6ms | Allocations: 2546)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3201)
Started POST "/login" for 127.0.0.1 at 2023-03-15 15:32:14 +0300
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 2460)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 15:32:14 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 12:32:14.077203"], ["updated_at", "2023-03-15 12:32:14.077203"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/2
Completed 302 Found in 5ms (ActiveRecord: 0.8ms | Allocations: 1860)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ListCategoriesTest: test_should_show_categories_listing
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 12:32:14.084629"], ["updated_at", "2023-03-15 12:32:14.084629"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 12:32:14.086219"], ["updated_at", "2023-03-15 12:32:14.086219"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 15:32:14 +0300
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 3]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 4]]
  Rendered categories/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 10310)
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/anas/rubys/alpha-blog/public/packs-test
[Webpacker] Hash: fd0e67e1fb8dd02a7da2
Version: webpack 4.46.0
Time: 2878ms
Built at: 03/15/2023 3:32:18 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-236e8b2d7edccda9eda0.js    662 KiB  application  [emitted] [immutable]  application
js/application-236e8b2d7edccda9eda0.js.map    766 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-236e8b2d7edccda9eda0.js js/application-236e8b2d7edccda9eda0.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 622 bytes {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 861 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 553 bytes {application} [built]
    + 6 hidden modules

  Rendered layouts/_navigation.html.erb (Duration: 1.4ms | Allocations: 836)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 199)
  Rendered layouts/_footer.html.erb (Duration: 0.3ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 5109.6ms | Allocations: 55186)
Completed 200 OK in 5115ms (Views: 5108.3ms | ActiveRecord: 2.6ms | Allocations: 58930)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_reject_invalid_category_submission
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$.jWmKyKWhKUvYS1lwmc2Zu.C3zwXFEh7fm99ZvvJ0SYv1EJOH15W6"], ["admin", true], ["created_at", "2023-03-15 12:32:18.549581"], ["updated_at", "2023-03-15 12:32:18.549581"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 15:32:18 +0300
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/2
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1081)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 15:32:18 +0300
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 179)
  Rendered categories/_form.html.erb (Duration: 3.1ms | Allocations: 1757)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2137)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.5ms | Allocations: 531)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 5463)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.2ms | Allocations: 6466)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 15:32:18 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>" "}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.4ms | Allocations: 1014)
  Rendered categories/_form.html.erb (Duration: 3.7ms | Allocations: 2691)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2772)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Compiled all packs in /home/anas/rubys/alpha-blog/public/packs-test
[Webpacker] Hash: fd0e67e1fb8dd02a7da2
Version: webpack 4.46.0
Time: 2771ms
Built at: 03/15/2023 3:32:18 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-236e8b2d7edccda9eda0.js    662 KiB  application  [emitted] [immutable]  application
js/application-236e8b2d7edccda9eda0.js.map    766 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-236e8b2d7edccda9eda0.js js/application-236e8b2d7edccda9eda0.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 622 bytes {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 861 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 553 bytes {application} [built]
    + 6 hidden modules

  Rendered layouts/_navigation.html.erb (Duration: 0.4ms | Allocations: 496)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 5890)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 0.7ms | Allocations: 7260)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendered layouts/_navigation.html.erb (Duration: 1.5ms | Allocations: 850)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 186)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 4944.6ms | Allocations: 32065)
Completed 200 OK in 4956ms (Views: 4945.4ms | ActiveRecord: 3.0ms | Allocations: 41731)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_create_category
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$EplOKTy/eBoTJ9tPPLekW.RjmxXScBj4fQCDAHM6qCmryZxovO21y"], ["admin", true], ["created_at", "2023-03-15 12:32:18.603514"], ["updated_at", "2023-03-15 12:32:18.603514"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 15:32:18 +0300
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/3
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 417)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 15:32:18 +0300
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered categories/_form.html.erb (Duration: 0.8ms | Allocations: 505)
  Rendered categories/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 586)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.8ms | Allocations: 496)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 22)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 3714)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.3ms | Allocations: 4339)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 15:32:18 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Sports"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 12:32:18.626459"], ["updated_at", "2023-03-15 12:32:18.626459"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/3
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1171)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started GET "/categories/3" for 127.0.0.1 at 2023-03-15 15:32:18 +0300
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 3]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 3], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 1.3ms | Allocations: 574)
  Rendered categories/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1400)
[Webpacker] Compiled all packs in /home/anas/rubys/alpha-blog/public/packs-test
[Webpacker] Hash: fd0e67e1fb8dd02a7da2
Version: webpack 4.46.0
Time: 2706ms
Built at: 03/15/2023 3:32:18 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-236e8b2d7edccda9eda0.js    662 KiB  application  [emitted] [immutable]  application
js/application-236e8b2d7edccda9eda0.js.map    766 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-236e8b2d7edccda9eda0.js js/application-236e8b2d7edccda9eda0.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 622 bytes {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 861 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 553 bytes {application} [built]
    + 6 hidden modules

[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.3ms | Allocations: 496)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 4523)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.7ms | Allocations: 5786)
  Rendered layouts/_navigation.html.erb (Duration: 1.4ms | Allocations: 1086)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 194)
  Rendered layouts/_footer.html.erb (Duration: 0.3ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 4604.0ms | Allocations: 19160)
Completed 200 OK in 4608ms (Views: 4605.4ms | ActiveRecord: 0.1ms | Allocations: 22174)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Compiled all packs in /home/anas/rubys/alpha-blog/public/packs-test
[Webpacker] Hash: fd0e67e1fb8dd02a7da2
Version: webpack 4.46.0
Time: 2743ms
Built at: 03/15/2023 3:32:18 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-236e8b2d7edccda9eda0.js    662 KiB  application  [emitted] [immutable]  application
js/application-236e8b2d7edccda9eda0.js.map    766 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-236e8b2d7edccda9eda0.js js/application-236e8b2d7edccda9eda0.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 622 bytes {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 861 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 553 bytes {application} [built]
    + 6 hidden modules

  Rendered layouts/_navigation.html.erb (Duration: 1.1ms | Allocations: 830)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 187)
  Rendered layouts/_footer.html.erb (Duration: 0.3ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 4709.0ms | Allocations: 26033)
Completed 200 OK in 4713ms (Views: 4707.4ms | ActiveRecord: 3.7ms | Allocations: 28487)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (109.4ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (110.7ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[35m (110.7ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[35m (112.3ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
-----------------------------------------
CategoryTest: test_name_should_not_be_too_short
CategoryTest: test_name_should_be_present
-----------------------------------------------
-----------------------------------------
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
CategoryTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_create_category
------------------------------------------------------------------
  [1m[36mCategory Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_reject_invalid_category_submission
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ListCategoriesTest: test_should_show_categories_listing
-------------------------------------------------------
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:07.499595"], ["updated_at", "2023-03-15 13:06:07.499595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
CategoriesControllerTest: test_should_create_category
-----------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:07.528930"], ["updated_at", "2023-03-15 13:06:07.528930"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:06:07.531672"], ["updated_at", "2023-03-15 13:06:07.531672"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:07.533712"], ["updated_at", "2023-03-15 13:06:07.533712"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:06:07 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "admin"], ["email", "admin@admin.com"], ["password_digest", "$2a$04$YF7MHpif73RPpPx3KGs2iOE9crn/9CkDh9tV2O/WVD0aM5ZXHx2hu"], ["admin", true], ["created_at", "2023-03-15 13:06:07.537583"], ["updated_at", "2023-03-15 13:06:07.537583"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "admin"], ["email", "admin@admin.com"], ["password_digest", "$2a$04$zBlnsBqzoUrbVeRGq0eA0uC8vBZJPGG1olB.MUrDpxSsMotS89iF6"], ["admin", true], ["created_at", "2023-03-15 13:06:07.537980"], ["updated_at", "2023-03-15 13:06:07.537980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:06:07 +0300
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:06:07 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@gmail.com"], ["LIMIT", 1]]
Processing by CategoriesController#index as HTML
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["password_digest", "$2a$04$uvHrkn0k2rn1wgu5Y68W.OXZVxjLXf83dWsVPIbFajY9L1LtSjpYa"], ["admin", true], ["created_at", "2023-03-15 13:06:07.546331"], ["updated_at", "2023-03-15 13:06:07.546331"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:06:07 +0300
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]"}}
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]"}}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@gmail.com", "password"=>"[FILTERED]"}}
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@gmail.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 18.6ms | Allocations: 2721)
  Rendered sessions/new.html.erb within layouts/application (Duration: 19.7ms | Allocations: 2724)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 5]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 6]]
  Rendered categories/index.html.erb within layouts/application (Duration: 39.1ms | Allocations: 10587)
  Rendered sessions/new.html.erb within layouts/application (Duration: 27.1ms | Allocations: 2722)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 1.1ms | Allocations: 822)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 176)
  Rendered layouts/_footer.html.erb (Duration: 0.3ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 957.4ms | Allocations: 18253)
Completed 200 OK in 966ms (Views: 959.7ms | ActiveRecord: 0.2ms | Allocations: 22495)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 1.4ms | Allocations: 822)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:06:08 +0300
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 176)
  Rendered layouts/_navigation.html.erb (Duration: 1.0ms | Allocations: 822)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layouts/_navigation.html.erb (Duration: 0.8ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 954.9ms | Allocations: 18273)
Completed 200 OK in 963ms (Views: 957.2ms | ActiveRecord: 0.3ms | Allocations: 22516)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 199)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 973.4ms | Allocations: 26172)
Completed 200 OK in 979ms (Views: 970.1ms | ActiveRecord: 4.9ms | Allocations: 29919)
Processing by CategoriesController#new as HTML
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:06:08 +0300
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 535)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:08.531628"], ["updated_at", "2023-03-15 13:06:08.531628"]]
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 556)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 176)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  Rendered layouts/_footer.html.erb (Duration: 0.5ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 973.3ms | Allocations: 18265)
Completed 200 OK in 981ms (Views: 975.5ms | ActiveRecord: 0.2ms | Allocations: 22508)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:08.536453"], ["updated_at", "2023-03-15 13:06:08.536453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:06:08 +0300
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:08.538515"], ["updated_at", "2023-03-15 13:06:08.538515"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["password_digest", "$2a$04$BiBHqHSD/eWR4HYJTmAKuuEcNlDbZAY8xDOLLjGfrE9ZO1PTbpj7G"], ["admin", true], ["created_at", "2023-03-15 13:06:08.540708"], ["updated_at", "2023-03-15 13:06:08.540708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@gmail.com"], ["LIMIT", 1]]
Processing by CategoriesController#new as HTML
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:06:08 +0300
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["password_digest", "$2a$04$fXDbX/hYvxE5EUeI83l3nO.hAJmvotx99aPgX/oXOlasuBTfauKQ."], ["admin", true], ["created_at", "2023-03-15 13:06:08.543062"], ["updated_at", "2023-03-15 13:06:08.543062"]]
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 550)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:06:08 +0300
Processing by CategoriesController#index as HTML
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "admin"], ["LIMIT", 1]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"admin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["password_digest", "$2a$04$8aeRG2lbK8kxjN5ysSjLheJpGgE1WvdoetNXpwda.KqhwNI2nDSxa"], ["admin", true], ["created_at", "2023-03-15 13:06:08.547419"], ["updated_at", "2023-03-15 13:06:08.547419"]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/7" for 127.0.0.1 at 2023-03-15 16:06:08 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
----------------------------------------------------------------------
CategoriesControllerTest: test_should_not_create_category_if_not_admin
  Rendering layout layouts/application.html.erb
----------------------------------------------------------------------
  Rendering sessions/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 592)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:08.550821"], ["updated_at", "2023-03-15 13:06:08.550821"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "admin"], ["LIMIT", 1]]
  Rendered layouts/_navigation.html.erb (Duration: 0.7ms | Allocations: 256)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 12)
  Rendered layouts/_footer.html.erb (Duration: 0.1ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 3591)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "admin@gmail.com"], ["LIMIT", 1]]
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.1ms | Allocations: 4167)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 7]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "admin"], ["email", "admin@gmail.com"], ["password_digest", "$2a$04$32w4oHMox1/pFRawd0rBLuy7NUZy3ndE7Gbv3lPGpYM.PONET87B."], ["admin", true], ["created_at", "2023-03-15 13:06:08.556022"], ["updated_at", "2023-03-15 13:06:08.556022"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 7], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 1.5ms | Allocations: 576)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendered categories/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1251)
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:06:08 +0300
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:06:08 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
Processing by CategoriesController#new as HTML
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 276)
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 395)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendered layouts/_navigation.html.erb (Duration: 0.4ms | Allocations: 271)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4297)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.5ms | Allocations: 5589)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 4]]
  Rendered categories/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 8818)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.2ms | Allocations: 288)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 37)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 11967)
Completed 200 OK in 22ms (Views: 18.4ms | ActiveRecord: 2.7ms | Allocations: 13207)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (95.4ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (98.9ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoryTest: test_name_should_not_be_too_short
-----------------------------------------------
  [1m[35m (102.6ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (104.8ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
CategoryTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_create_category
------------------------------------------------------------------
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_reject_invalid_category_submission
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:45.223387"], ["updated_at", "2023-03-15 13:06:45.223387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
CategoriesControllerTest: test_should_not_create_category_if_not_admin
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:45.270804"], ["updated_at", "2023-03-15 13:06:45.270804"]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$b.GUMfHMry81RLqQ4AZppOnRoy4m/TvHj0H8WCizXMy6YUkd.tsSy"], ["admin", true], ["created_at", "2023-03-15 13:06:45.272331"], ["updated_at", "2023-03-15 13:06:45.272331"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:06:45 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$QLAYzGolthMryMKEy7OjbOCg5keawyZ//cYIBdhirePFaqXqadJtK"], ["admin", true], ["created_at", "2023-03-15 13:06:45.283471"], ["updated_at", "2023-03-15 13:06:45.283471"]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:45.283534"], ["updated_at", "2023-03-15 13:06:45.283534"]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$l5nnTPsebii2tWDjUGGluOpeKESJNz31udSe1zORUcQwwdW1ZwJMq"], ["admin", true], ["created_at", "2023-03-15 13:06:45.285224"], ["updated_at", "2023-03-15 13:06:45.285224"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:06:45 +0300
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:06:45 +0300
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/5
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 2495)
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$6VVD6vM/f6qHwL6lXYU/neyCT0xoWBz9nNKKsayTrnpbqeUUIywte"], ["admin", true], ["created_at", "2023-03-15 13:06:45.295690"], ["updated_at", "2023-03-15 13:06:45.295690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:06:45 +0300
Processing by CategoriesController#new as HTML
Started GET "/categories/5" for 127.0.0.1 at 2023-03-15 16:06:45 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 1641)
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 187)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendered categories/_form.html.erb (Duration: 2.8ms | Allocations: 2544)
Redirected to http://www.example.com/users/3
  Rendered categories/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3198)
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 2495)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:06:45 +0300
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:45.308472"], ["updated_at", "2023-03-15 13:06:45.308472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"5"}
Processing by CategoriesController#new as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$8o8a5SN.BfWwa4BzQsIM9eFeLz6u7ireFv2GT3IMskQ3KuPpBppQK"], ["admin", true], ["created_at", "2023-03-15 13:06:45.312356"], ["updated_at", "2023-03-15 13:06:45.312356"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:06:45 +0300
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 187)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  Rendered categories/_form.html.erb (Duration: 3.1ms | Allocations: 2544)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 3198)
Redirected to http://www.example.com/users/7
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1198)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:06:45 +0300
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 5]]
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 187)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 5], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 1.1ms | Allocations: 665)
  Rendered categories/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2340)
  Rendered categories/_form.html.erb (Duration: 3.2ms | Allocations: 2542)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 3196)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 2.6ms | Allocations: 1084)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 194)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 923.6ms | Allocations: 19376)
Completed 200 OK in 927ms (Views: 925.0ms | ActiveRecord: 0.2ms | Allocations: 22372)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:06:46 +0300
[Webpacker] Everything's up-to-date. Nothing to do
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Sports"}}
  Rendered layouts/_navigation.html.erb (Duration: 0.9ms | Allocations: 1084)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 194)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendered layouts/_footer.html.erb (Duration: 1.4ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 919.3ms | Allocations: 19386)
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
Completed 200 OK in 923ms (Views: 920.9ms | ActiveRecord: 0.1ms | Allocations: 22389)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:46.234129"], ["updated_at", "2023-03-15 13:06:46.234129"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:06:46 +0300
Redirected to http://www.example.com/categories/4
Completed 302 Found in 5ms (ActiveRecord: 1.2ms | Allocations: 1547)
  Rendered layouts/_navigation.html.erb (Duration: 2.1ms | Allocations: 885)
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>" "}}
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 198)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 912.8ms | Allocations: 18328)
Started GET "/categories/4" for 127.0.0.1 at 2023-03-15 16:06:46 +0300
Completed 200 OK in 929ms (Views: 913.6ms | ActiveRecord: 2.8ms | Allocations: 29327)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"4"}
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendered shared/_errors.html.erb (Duration: 1.1ms | Allocations: 1050)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
CategoriesControllerTest: test_should_create_category
-----------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:46.243279"], ["updated_at", "2023-03-15 13:06:46.243279"]]
  Rendered categories/_form.html.erb (Duration: 2.9ms | Allocations: 2768)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered categories/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 2856)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  Rendered layouts/_navigation.html.erb (Duration: 0.3ms | Allocations: 501)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$xO7qYGyY/Hv0n2eh/LjXf.mpwwO8oPnLJ40fwUVw7fQb97M459d5q"], ["admin", true], ["created_at", "2023-03-15 13:06:46.246661"], ["updated_at", "2023-03-15 13:06:46.246661"]]
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 6114)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.6ms | Allocations: 7554)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:06:46 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:46.252522"], ["updated_at", "2023-03-15 13:06:46.252522"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[Webpacker] Everything's up-to-date. Nothing to do
Redirected to http://www.example.com/users/5
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1046)
  Rendered layouts/_navigation.html.erb (Duration: 0.8ms | Allocations: 1083)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 194)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:06:46 +0300
  Rendered layout layouts/application.html.erb (Duration: 929.1ms | Allocations: 19391)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Completed 200 OK in 933ms (Views: 930.5ms | ActiveRecord: 0.2ms | Allocations: 22305)
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$/.LxAW8XVkXzDMdiG3Rrh..rpsVCUp/jajfKrQKDw3MJk6fXZbNHu"], ["admin", true], ["created_at", "2023-03-15 13:06:46.256765"], ["updated_at", "2023-03-15 13:06:46.256765"]]
Processing by CategoriesController#create as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Parameters: {"category"=>{"name"=>"Travel"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:06:46 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ListCategoriesTest: test_should_show_categories_listing
-------------------------------------------------------
Processing by CategoriesController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 4], ["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendered articles/_article.html.erb (Duration: 1.3ms | Allocations: 654)
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2306)
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:06:46.260201"], ["updated_at", "2023-03-15 13:06:46.260201"]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:06:46.260413"], ["updated_at", "2023-03-15 13:06:46.260413"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Redirected to http://www.example.com/categories/7
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1504)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:06:46.262107"], ["updated_at", "2023-03-15 13:06:46.262107"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[Webpacker] Everything's up-to-date. Nothing to do
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:06:46 +0300
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered layouts/_navigation.html.erb (Duration: 0.4ms | Allocations: 514)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 30)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 5608)
Completed 200 OK in 23ms (Views: 7.5ms | ActiveRecord: 3.8ms | Allocations: 13353)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Processing by CategoriesController#index as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 8]]
  Rendered categories/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 8552)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.2ms | Allocations: 272)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 11620)
Completed 200 OK in 16ms (Views: 13.1ms | ActiveRecord: 2.6ms | Allocations: 12279)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 8]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 9]]
  Rendered categories/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 9246)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.2ms | Allocations: 266)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 12291)
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 2.4ms | Allocations: 12978)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (100.1ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (101.1ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (105.3ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[35m (105.2ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
CategoriesControllerTest: test_should_create_category
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:07:23.442875"], ["updated_at", "2023-03-15 13:07:23.442875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:07:23.446796"], ["updated_at", "2023-03-15 13:07:23.446796"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:07:23.447581"], ["updated_at", "2023-03-15 13:07:23.447581"]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:07:23.447581"], ["updated_at", "2023-03-15 13:07:23.447581"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$u1oeT1ISMRK74d46m4e7POGzjk.QSd3AD8TLBV9KcE7VpCZ8XB0P."], ["admin", true], ["created_at", "2023-03-15 13:07:23.454881"], ["updated_at", "2023-03-15 13:07:23.454881"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:07:23 +0300
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$SjmFkyHsOtgosv.tbFAFoOVHPdoTDcMY2uZDRgGoVudiFsHH1QmLK"], ["admin", true], ["created_at", "2023-03-15 13:07:23.458677"], ["updated_at", "2023-03-15 13:07:23.458677"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:07:23 +0300
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$/AB3uIPGv/onkaeye4vsZOgG61P6eHOzx6/FMasu739Bh.rT5wEly"], ["admin", true], ["created_at", "2023-03-15 13:07:23.462562"], ["updated_at", "2023-03-15 13:07:23.462562"]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$R/BiWUHJ7Yh4UGSghLZOt.yWu3gaU2GBkelfJjumM9KPeXEngrzw6"], ["admin", true], ["created_at", "2023-03-15 13:07:23.462562"], ["updated_at", "2023-03-15 13:07:23.462562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:07:23 +0300
Started GET "/categories/8" for 127.0.0.1 at 2023-03-15 16:07:23 +0300
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"johndoe@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/8
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 2495)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:07:23 +0300
Redirected to http://www.example.com/users/6
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2495)
Processing by CategoriesController#new as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:07:23 +0300
Processing by CategoriesController#index as HTML
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"8"}
Processing by CategoriesController#create as HTML
  Rendering layout layouts/application.html.erb
  Parameters: {"category"=>{"name"=>"Travel"}}
  Rendering categories/new.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:07:23.486009"], ["updated_at", "2023-03-15 13:07:23.486009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered categories/_form.html.erb (Duration: 2.7ms | Allocations: 2546)
Redirected to http://www.example.com/categories/6
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1890)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3201)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
CategoriesControllerTest: test_should_not_create_category_if_not_admin
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:07:23.492811"], ["updated_at", "2023-03-15 13:07:23.492811"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "johndoe"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "johndoe@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "johndoe"], ["email", "johndoe@example.com"], ["password_digest", "$2a$04$8g7Qfifx3wXWiViSesOuNuk0hBPJjzauSZb39SYmxcYoHrb9Xz5ii"], ["admin", true], ["created_at", "2023-03-15 13:07:23.496471"], ["updated_at", "2023-03-15 13:07:23.496471"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:07:23 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 286)
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_create_category
------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 8]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 9]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "anas"], ["LIMIT", 1]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 8], ["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "anas@example.com"], ["LIMIT", 1]]
  Rendered articles/_article.html.erb (Duration: 1.6ms | Allocations: 665)
  Rendered categories/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2340)
  Rendered categories/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 9886)
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "anas"], ["email", "anas@example.com"], ["password_digest", "$2a$04$QBMsgnMPQ3f6xIZCr0WIL.GSwZjvplFk760TLHPvp5dYdLt87X4.e"], ["admin", true], ["created_at", "2023-03-15 13:07:23.505424"], ["updated_at", "2023-03-15 13:07:23.505424"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:07:23 +0300
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"anas@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "anas@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/8
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 437)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:07:23 +0300
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
  Rendered categories/_form.html.erb (Duration: 2.9ms | Allocations: 2475)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3130)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 1.6ms | Allocations: 1084)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 192)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 916.4ms | Allocations: 19439)
Completed 200 OK in 920ms (Views: 917.8ms | ActiveRecord: 0.2ms | Allocations: 22133)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:07:24 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Sports"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:07:24.438393"], ["updated_at", "2023-03-15 13:07:24.438393"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/8
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1324)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started GET "/categories/8" for 127.0.0.1 at 2023-03-15 16:07:24 +0300
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 8]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 8], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 1.5ms | Allocations: 649)
  Rendered categories/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2300)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.5ms | Allocations: 514)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 5625)
Completed 200 OK in 38ms (Views: 24.3ms | ActiveRecord: 2.8ms | Allocations: 13372)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_reject_invalid_category_submission
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "anas"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "anas@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "anas"], ["email", "anas@example.com"], ["password_digest", "$2a$04$lrKBkQAQxIsHsR0Cs9hq3OyA.hNuQ9ZwC1Avnr5RaXPJWaHYqPiga"], ["admin", true], ["created_at", "2023-03-15 13:07:24.488411"], ["updated_at", "2023-03-15 13:07:24.488411"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:07:24 +0300
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"anas@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "anas@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/9
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 458)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:07:24 +0300
[Webpacker] Everything's up-to-date. Nothing to do
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered layouts/_navigation.html.erb (Duration: 0.8ms | Allocations: 1083)
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 9)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 194)
  Rendered layouts/_footer.html.erb (Duration: 0.1ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 1017.0ms | Allocations: 19498)
  Rendered categories/_form.html.erb (Duration: 1.0ms | Allocations: 565)
  Rendered categories/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 646)
Completed 200 OK in 1021ms (Views: 1019.2ms | ActiveRecord: 0.1ms | Allocations: 22494)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  Rendered layouts/_navigation.html.erb (Duration: 0.5ms | Allocations: 496)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 22)
  Rendered layouts/_footer.html.erb (Duration: 0.1ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 3778)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.2ms | Allocations: 4435)
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:07:24.506497"], ["updated_at", "2023-03-15 13:07:24.506497"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:07:24 +0300
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoryTest: test_name_should_not_be_too_short
-----------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aa"], ["LIMIT", 1]]
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>" "}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  Rendered shared/_errors.html.erb (Duration: 1.3ms | Allocations: 1019)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
CategoryTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  Rendered categories/_form.html.erb (Duration: 3.5ms | Allocations: 2677)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2758)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ListCategoriesTest: test_should_show_categories_listing
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:07:24.518722"], ["updated_at", "2023-03-15 13:07:24.518722"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:07:24.520301"], ["updated_at", "2023-03-15 13:07:24.520301"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered layouts/_navigation.html.erb (Duration: 0.5ms | Allocations: 496)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 5877)
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:07:24 +0300
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.5ms | Allocations: 7055)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 12]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 13]]
  Rendered categories/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 9328)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.2ms | Allocations: 266)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 12373)
Completed 200 OK in 20ms (Views: 16.0ms | ActiveRecord: 2.8ms | Allocations: 13119)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.7ms | Allocations: 885)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 198)
  Rendered layouts/_footer.html.erb (Duration: 0.1ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 1091.6ms | Allocations: 18448)
Completed 200 OK in 1109ms (Views: 1093.0ms | ActiveRecord: 3.0ms | Allocations: 29442)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.6ms | Allocations: 833)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 199)
  Rendered layouts/_footer.html.erb (Duration: 0.1ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 1193.6ms | Allocations: 26019)
Completed 200 OK in 1200ms (Views: 1192.4ms | ActiveRecord: 3.1ms | Allocations: 29767)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (108.1ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (109.1ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[35m (109.7ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (112.9ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_reject_invalid_category_submission
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_create_category
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ListCategoriesTest: test_should_show_categories_listing
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
CategoriesControllerTest: test_should_create_category
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$9oEibXlCVex1FP4TLFLHfOJtmlCjknH6WoaSNjN91Mf5zCWPTLSBO"], ["admin", true], ["created_at", "2023-03-15 13:10:29.754921"], ["updated_at", "2023-03-15 13:10:29.754921"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$OJN49cHCCnZZHh9Bucb.lOL8y0OZw6olQzAYwMjxS5kX2AMTJ6QRO"], ["admin", true], ["created_at", "2023-03-15 13:10:29.759896"], ["updated_at", "2023-03-15 13:10:29.759896"]]
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:10:29.761120"], ["updated_at", "2023-03-15 13:10:29.761120"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:10:29.764343"], ["updated_at", "2023-03-15 13:10:29.764343"]]
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:10:29.771223"], ["updated_at", "2023-03-15 13:10:29.771223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/10
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2495)
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$nGTxcRF1wMPADwmcbRbfg.fLG4yZkcEW4Atj1YcQv8SwgYObUJFKO"], ["admin", true], ["created_at", "2023-03-15 13:10:29.782462"], ["updated_at", "2023-03-15 13:10:29.782462"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#index as HTML
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
Redirected to http://www.example.com/users/7
Completed 302 Found in 9ms (ActiveRecord: 0.2ms | Allocations: 2495)
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
Processing by CategoriesController#new as HTML
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  Rendered categories/_form.html.erb (Duration: 2.7ms | Allocations: 2556)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 3211)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/9
Completed 302 Found in 7ms (ActiveRecord: 0.3ms | Allocations: 2495)
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
  Rendered categories/_form.html.erb (Duration: 3.6ms | Allocations: 2556)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3211)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:10:29.811406"], ["updated_at", "2023-03-15 13:10:29.811406"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/15
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 1875)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 11]]
  Rendered categories/index.html.erb within layouts/application (Duration: 20.2ms | Allocations: 10580)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
CategoriesControllerTest: test_should_not_create_category_if_not_admin
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:10:29.818235"], ["updated_at", "2023-03-15 13:10:29.818235"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$cgSFtZyWC8tfMwim3dt7Fea439aXufyyhzxpBVC85umpywzMpOfji"], ["admin", true], ["created_at", "2023-03-15 13:10:29.821385"], ["updated_at", "2023-03-15 13:10:29.821385"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 286)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:10:29.828353"], ["updated_at", "2023-03-15 13:10:29.828353"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$s3MUxiwVsXwKcAlsD3clCOknKkB5xTcF1xYhSm6p4yV000BfNvKvm"], ["admin", true], ["created_at", "2023-03-15 13:10:29.830980"], ["updated_at", "2023-03-15 13:10:29.830980"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/11
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 437)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:10:29 +0300
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
  Rendered categories/_form.html.erb (Duration: 2.7ms | Allocations: 2475)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 3130)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 2.6ms | Allocations: 1084)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 194)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 926.3ms | Allocations: 19629)
Completed 200 OK in 935ms (Views: 927.9ms | ActiveRecord: 1.5ms | Allocations: 25990)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:10:30 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>" "}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.4ms | Allocations: 1050)
  Rendered categories/_form.html.erb (Duration: 4.0ms | Allocations: 2768)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2856)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.6ms | Allocations: 501)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 6114)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.6ms | Allocations: 7711)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:10:30.749124"], ["updated_at", "2023-03-15 13:10:30.749124"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$2DQ5QcG4auZQan3l./D0zOJiG7zPzxjJlRpLY2d0tz1snsJJXwkKy"], ["admin", true], ["created_at", "2023-03-15 13:10:30.752510"], ["updated_at", "2023-03-15 13:10:30.752510"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:10:30 +0300
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 9]]
  Rendered categories/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 8541)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.3ms | Allocations: 272)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 11609)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 2.7ms | Allocations: 12268)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:10:30.777508"], ["updated_at", "2023-03-15 13:10:30.777508"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered layouts/_navigation.html.erb (Duration: 1.3ms | Allocations: 1083)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 192)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 938.9ms | Allocations: 19553)
Completed 200 OK in 942ms (Views: 941.1ms | ActiveRecord: 0.1ms | Allocations: 22239)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$hcRDKyWF5SUi.GF.WIeDPuIva.0BE3CTHTb6x2GbKVGzgsCpIH2eW"], ["admin", true], ["created_at", "2023-03-15 13:10:30.781050"], ["updated_at", "2023-03-15 13:10:30.781050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/10" for 127.0.0.1 at 2023-03-15 16:10:30 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
CategoryTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  Rendering layout layouts/application.html.erb
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  Rendering categories/show.html.erb within layouts/application
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 10]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:10:30.788057"], ["updated_at", "2023-03-15 13:10:30.788057"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 10], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 1.6ms | Allocations: 574)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  Rendered categories/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1230)
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoryTest: test_name_should_not_be_too_short
-----------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.3ms | Allocations: 268)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 4125)
Completed 200 OK in 11ms (Views: 7.8ms | ActiveRecord: 0.5ms | Allocations: 5350)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 2.0ms | Allocations: 1084)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 194)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 1273.0ms | Allocations: 19674)
Completed 200 OK in 1285ms (Views: 1274.9ms | ActiveRecord: 1.6ms | Allocations: 26026)
  Rendered layouts/_navigation.html.erb (Duration: 0.9ms | Allocations: 827)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 199)
  Rendered layouts/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 1287.3ms | Allocations: 26821)
Completed 200 OK in 1296ms (Views: 1286.5ms | ActiveRecord: 3.2ms | Allocations: 30569)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:10:31 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Sports"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:10:31.086438"], ["updated_at", "2023-03-15 13:10:31.086438"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/9
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 1715)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started GET "/categories/9" for 127.0.0.1 at 2023-03-15 16:10:31 +0300
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 9]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 9], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 0.9ms | Allocations: 654)
  Rendered categories/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navigation.html.erb (Duration: 0.3ms | Allocations: 514)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 30)
  Rendered layouts/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 5608)
Completed 200 OK in 18ms (Views: 6.4ms | ActiveRecord: 2.8ms | Allocations: 13345)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (101.4ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (103.4ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (107.8ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[35m (107.8ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_create_category
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_reject_invalid_category_submission
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
CategoriesControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
CategoriesControllerTest: test_should_not_create_category_if_not_admin
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$RKL8T32iiT2PhmO.tFPNke84XLfbMZymJFk8IxGolk74u5N9vexcC"], ["admin", true], ["created_at", "2023-03-15 13:18:25.914992"], ["updated_at", "2023-03-15 13:18:25.914992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:18:25 +0300
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:25.918439"], ["updated_at", "2023-03-15 13:18:25.918439"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$6AVQoX94HgJy.ipMWBMEmOszLxItohT5eFexSOr5ypLlBiLEIlnna"], ["admin", true], ["created_at", "2023-03-15 13:18:25.919402"], ["updated_at", "2023-03-15 13:18:25.919402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:25.922443"], ["updated_at", "2023-03-15 13:18:25.922443"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:18:25 +0300
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$dNkIy1tcr8Ja3/d02BJOT.qH5vwEVZwhvzC/dOy9tJII9IuCF2IDS"], ["admin", true], ["created_at", "2023-03-15 13:18:25.936101"], ["updated_at", "2023-03-15 13:18:25.936101"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$GcMcAOKUxksQ2gO73nZlZesThxhmJAs7TQ7.taQUlPR3yzVsMWDQG"], ["admin", true], ["created_at", "2023-03-15 13:18:25.938077"], ["updated_at", "2023-03-15 13:18:25.938077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/6
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 2496)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:18:25 +0300
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:18:25 +0300
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:18:25 +0300
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Redirected to http://www.example.com/users/13
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 2496)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:18:25 +0300
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
Redirected to http://www.example.com/categories
Processing by SessionsController#create as HTML
Filter chain halted as :require_admin rendered or redirected
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 1642)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 188)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:25.962585"], ["updated_at", "2023-03-15 13:18:25.962585"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered categories/_form.html.erb (Duration: 10.1ms | Allocations: 2557)
  Rendered categories/new.html.erb within layouts/application (Duration: 11.0ms | Allocations: 3212)
Redirected to http://www.example.com/users/8
Completed 302 Found in 8ms (ActiveRecord: 0.3ms | Allocations: 2496)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$8.UL9o.YtFq7t/aPQqitGO3c1NYnx.i3lEz68vWWoTeWgKpNUi9tC"], ["admin", true], ["created_at", "2023-03-15 13:18:25.966147"], ["updated_at", "2023-03-15 13:18:25.966147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:18:25 +0300
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:18:25 +0300
Processing by CategoriesController#index as HTML
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 188)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
  Rendered categories/_form.html.erb (Duration: 10.1ms | Allocations: 2557)
  Rendered categories/new.html.erb within layouts/application (Duration: 11.0ms | Allocations: 3212)
  Rendered categories/_form.html.erb (Duration: 2.8ms | Allocations: 2547)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 3202)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 20]]
  Rendered categories/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 9802)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 0.8ms | Allocations: 1084)
  Rendered shared/_messages.html.erb (Duration: 0.2ms | Allocations: 194)
  Rendered shared/_footer.html.erb (Duration: 0.1ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 917.4ms | Allocations: 19770)
  Rendered shared/_navigation.html.erb (Duration: 1.5ms | Allocations: 1083)
Completed 200 OK in 929ms (Views: 918.8ms | ActiveRecord: 2.1ms | Allocations: 26118)
  Rendered shared/_messages.html.erb (Duration: 0.3ms | Allocations: 194)
  Rendered shared/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 909.3ms | Allocations: 19749)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 914ms (Views: 910.9ms | ActiveRecord: 0.2ms | Allocations: 22747)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:18:26 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendered shared/_navigation.html.erb (Duration: 1.3ms | Allocations: 1084)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Sports"}}
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  Rendered shared/_messages.html.erb (Duration: 0.4ms | Allocations: 194)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:26.888684"], ["updated_at", "2023-03-15 13:18:26.888684"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered shared/_footer.html.erb (Duration: 1.2ms | Allocations: 134)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendered layout layouts/application.html.erb (Duration: 936.7ms | Allocations: 19750)
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
Completed 200 OK in 945ms (Views: 938.1ms | ActiveRecord: 1.6ms | Allocations: 26137)
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:26.889838"], ["updated_at", "2023-03-15 13:18:26.889838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/11
Completed 302 Found in 3ms (ActiveRecord: 0.6ms | Allocations: 1724)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$WF7CxezWUgsTO9TIMo7dvuhcEUEW3xnMIWR0OKANedsAJDx53l6Qi"], ["admin", true], ["created_at", "2023-03-15 13:18:26.892078"], ["updated_at", "2023-03-15 13:18:26.892078"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:18:26 +0300
Started GET "/categories/11" for 127.0.0.1 at 2023-03-15 16:18:26 +0300
Started GET "/categories/11" for 127.0.0.1 at 2023-03-15 16:18:26 +0300
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"11"}
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>" "}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.9ms | Allocations: 1050)
  Rendered categories/_form.html.erb (Duration: 4.6ms | Allocations: 2768)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2856)
  Rendering layout layouts/application.html.erb
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  Rendering categories/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 11]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 11]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 0.5ms | Allocations: 501)
  Rendered shared/_messages.html.erb (Duration: 0.1ms | Allocations: 24)
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 11], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 6114)
  Rendered articles/_article.html.erb (Duration: 1.4ms | Allocations: 654)
  Rendered categories/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2086)
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 11], ["LIMIT", 5], ["OFFSET", 0]]
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 0.5ms | Allocations: 7714)
  Rendered articles/_article.html.erb (Duration: 1.3ms | Allocations: 654)
  Rendered categories/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2306)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 0.2ms | Allocations: 285)
  Rendered shared/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered shared/_navigation.html.erb (Duration: 0.3ms | Allocations: 514)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 5155)
  Rendered shared/_messages.html.erb (Duration: 0.0ms | Allocations: 30)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
Completed 200 OK in 18ms (Views: 6.8ms | ActiveRecord: 3.0ms | Allocations: 12874)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 5608)
Completed 200 OK in 19ms (Views: 7.1ms | ActiveRecord: 2.8ms | Allocations: 13347)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
CategoriesControllerTest: test_should_create_category
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ListCategoriesTest: test_should_show_categories_listing
-------------------------------------------------------
----------------------------------------------
CategoryTest: test_name_should_not_be_too_long
----------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:26.916409"], ["updated_at", "2023-03-15 13:18:26.916409"]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:26.916223"], ["updated_at", "2023-03-15 13:18:26.916223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:18:26.918068"], ["updated_at", "2023-03-15 13:18:26.918068"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:26.918708"], ["updated_at", "2023-03-15 13:18:26.918708"]]
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:18:26 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$M0w9e5GCRjD8ckuGdbyXA.t36r6gD.jHN1ns.G3AXdA2pRvmWUayG"], ["admin", true], ["created_at", "2023-03-15 13:18:26.920205"], ["updated_at", "2023-03-15 13:18:26.920205"]]
Processing by CategoriesController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:18:26 +0300
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoryTest: test_name_should_not_be_too_short
-----------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aa"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 12]]
Redirected to http://www.example.com/users/7
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 13]]
  Rendered categories/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1987)
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:18:26 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendered shared/_navigation.html.erb (Duration: 0.2ms | Allocations: 255)
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  Rendered shared/_messages.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 4867)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.7ms | Allocations: 5518)
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:18:26.930045"], ["updated_at", "2023-03-15 13:18:26.930045"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/13
Completed 302 Found in 3ms (ActiveRecord: 0.7ms | Allocations: 1172)
  Rendered shared/_navigation.html.erb (Duration: 0.7ms | Allocations: 833)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendered shared/_messages.html.erb (Duration: 0.6ms | Allocations: 187)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  Rendered shared/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 960.5ms | Allocations: 26149)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 200 OK in 964ms (Views: 957.2ms | ActiveRecord: 5.0ms | Allocations: 28637)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (94.7ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (95.8ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (99.3ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[35m (99.2ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_create_category
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_reject_invalid_category_submission
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ListCategoriesTest: test_should_show_categories_listing
-------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$E3CsaJdMpogYREe5SVUqB.rX/Gk.ksV.gomf8M80jH3T3kVVxo1xu"], ["admin", true], ["created_at", "2023-03-15 13:18:38.231770"], ["updated_at", "2023-03-15 13:18:38.231770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:18:38 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$12X6wAi8KMbnTFVQASQri.J8fHoDySUFWBr1ecMyfmuGGppYOkQCy"], ["admin", true], ["created_at", "2023-03-15 13:18:38.247289"], ["updated_at", "2023-03-15 13:18:38.247289"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/14
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 2495)
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:38.251124"], ["updated_at", "2023-03-15 13:18:38.251124"]]
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:18:38 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 13:18:38.254720"], ["updated_at", "2023-03-15 13:18:38.254720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:18:38 +0300
Started GET "/categories" for 127.0.0.1 at 2023-03-15 16:18:38 +0300
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
Processing by CategoriesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  Rendered categories/_form.html.erb (Duration: 2.9ms | Allocations: 2556)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3211)
Redirected to http://www.example.com/users/14
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 2495)
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:18:38 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
  Rendered categories/_form.html.erb (Duration: 2.7ms | Allocations: 2556)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 3211)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 14]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 15]]
  Rendered categories/index.html.erb within layouts/application (Duration: 20.6ms | Allocations: 10581)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 0.8ms | Allocations: 1084)
  Rendered shared/_messages.html.erb (Duration: 0.7ms | Allocations: 194)
  Rendered shared/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 903.0ms | Allocations: 19874)
Completed 200 OK in 915ms (Views: 904.7ms | ActiveRecord: 1.9ms | Allocations: 26226)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:18:39 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>" "}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.5ms | Allocations: 1050)
  Rendered categories/_form.html.erb (Duration: 3.3ms | Allocations: 2768)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2856)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 0.3ms | Allocations: 501)
  Rendered shared/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 6114)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.7ms | Allocations: 7711)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 1.0ms | Allocations: 827)
  Rendered shared/_navigation.html.erb (Duration: 1.2ms | Allocations: 1084)
  Rendered shared/_messages.html.erb (Duration: 0.3ms | Allocations: 199)
  Rendered shared/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 923.3ms | Allocations: 27032)
  Rendered shared/_messages.html.erb (Duration: 0.4ms | Allocations: 194)
Completed 200 OK in 929ms (Views: 921.6ms | ActiveRecord: 3.2ms | Allocations: 30780)
  Rendered shared/_footer.html.erb (Duration: 0.3ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 912.5ms | Allocations: 19884)
Completed 200 OK in 921ms (Views: 914.0ms | ActiveRecord: 1.6ms | Allocations: 26239)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:18:39 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Sports"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:39.211773"], ["updated_at", "2023-03-15 13:18:39.211773"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/21
Completed 302 Found in 4ms (ActiveRecord: 1.0ms | Allocations: 1730)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started GET "/categories/21" for 127.0.0.1 at 2023-03-15 16:18:39 +0300
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 21]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 21], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 1.0ms | Allocations: 654)
  Rendered categories/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 0.3ms | Allocations: 514)
  Rendered shared/_messages.html.erb (Duration: 0.0ms | Allocations: 30)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 5608)
Completed 200 OK in 17ms (Views: 6.0ms | ActiveRecord: 2.6ms | Allocations: 13346)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (99.5ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (101.5ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (104.8ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[35m (104.2ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_reject_invalid_category_submission
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_create_category
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$D9biE1B/eDWGGCS9otrb2uBARgBNaMVUjWaI//Z9G1iAzX7jceORe"], ["admin", true], ["created_at", "2023-03-15 13:18:45.381137"], ["updated_at", "2023-03-15 13:18:45.381137"]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$0iA59AQV61U48A1c.tCxsOePptKwaGGjGb7eoH7RWStgR0vh9QfPG"], ["admin", true], ["created_at", "2023-03-15 13:18:45.381139"], ["updated_at", "2023-03-15 13:18:45.381139"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:18:45 +0300
Started POST "/login" for 127.0.0.1 at 2023-03-15 16:18:45 +0300
Processing by SessionsController#create as HTML
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/8
Redirected to http://www.example.com/users/15
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2495)
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 2495)
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:18:45 +0300
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 16:18:45 +0300
Processing by CategoriesController#new as HTML
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
  Rendered categories/_form.html.erb (Duration: 3.0ms | Allocations: 2556)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3211)
  Rendered categories/_form.html.erb (Duration: 2.8ms | Allocations: 2556)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3211)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 1.3ms | Allocations: 1084)
  Rendered shared/_messages.html.erb (Duration: 0.3ms | Allocations: 194)
  Rendered shared/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 852.8ms | Allocations: 19964)
Completed 200 OK in 863ms (Views: 854.4ms | ActiveRecord: 2.2ms | Allocations: 26318)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:18:46 +0300
  Rendered shared/_navigation.html.erb (Duration: 1.1ms | Allocations: 1084)
  Rendered shared/_messages.html.erb (Duration: 0.3ms | Allocations: 194)
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>" "}}
  Rendered shared/_footer.html.erb (Duration: 0.1ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 858.1ms | Allocations: 19964)
Completed 200 OK in 868ms (Views: 859.8ms | ActiveRecord: 1.6ms | Allocations: 26318)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
Started POST "/categories" for 127.0.0.1 at 2023-03-15 16:18:46 +0300
  Rendered shared/_errors.html.erb (Duration: 0.9ms | Allocations: 1050)
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Sports"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendered categories/_form.html.erb (Duration: 2.6ms | Allocations: 2768)
  Rendered categories/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2856)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 13:18:46.280043"], ["updated_at", "2023-03-15 13:18:46.280043"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[Webpacker] Everything's up-to-date. Nothing to do
Redirected to http://www.example.com/categories/22
Completed 302 Found in 4ms (ActiveRecord: 0.8ms | Allocations: 1721)
  Rendered shared/_navigation.html.erb (Duration: 0.8ms | Allocations: 501)
  Rendered shared/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 6114)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.6ms | Allocations: 7708)
Started GET "/categories/22" for 127.0.0.1 at 2023-03-15 16:18:46 +0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 22]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 22], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 1.3ms | Allocations: 654)
  Rendered categories/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 0.6ms | Allocations: 514)
  Rendered shared/_messages.html.erb (Duration: 0.1ms | Allocations: 30)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 5608)
Completed 200 OK in 19ms (Views: 7.7ms | ActiveRecord: 2.9ms | Allocations: 13369)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "article_categories" DISABLE TRIGGER ALL;ALTER TABLE "articles" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (102.4ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (104.7ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[35m (104.6ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[35m (106.0ms)[0m  [1m[35mTRUNCATE TABLE "article_categories", "articles", "categories", "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "article_categories" ENABLE TRIGGER ALL;ALTER TABLE "articles" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
CategoriesControllerTest: test_should_create_category
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
---------------------------------------------
----------------------------------------------------------------------
CategoriesControllerTest: test_should_get_new
CategoriesControllerTest: test_should_not_create_category_if_not_admin
---------------------------------------------
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 15:00:32.683988"], ["updated_at", "2023-03-15 15:00:32.683988"]]
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 15:00:32.685527"], ["updated_at", "2023-03-15 15:00:32.685527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 15:00:32.696322"], ["updated_at", "2023-03-15 15:00:32.696322"]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$FJSQXVS8iL2KS6ZwqS7sZe4L/Q4QOTEnMpBrKhJAU0yyZf6WSlS0K"], ["admin", true], ["created_at", "2023-03-15 15:00:32.697172"], ["updated_at", "2023-03-15 15:00:32.697172"]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$C5NZLVV6/OgjwncFUsuVLeFwZ99ouRbSc7VshCQ8EAOafSXre6sYG"], ["admin", true], ["created_at", "2023-03-15 15:00:32.697279"], ["updated_at", "2023-03-15 15:00:32.697279"]]
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 15:00:32.696829"], ["updated_at", "2023-03-15 15:00:32.696829"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 18:00:32 +0300
Started POST "/login" for 127.0.0.1 at 2023-03-15 18:00:32 +0300
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
Processing by CategoriesController#index as HTML
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$hl2NMe/TQsRcfDFsIr0Lqe6qSJQ.hi8jdVwIzC4qTpfO84/A9Mehm"], ["admin", true], ["created_at", "2023-03-15 15:00:32.710176"], ["updated_at", "2023-03-15 15:00:32.710176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$r/PuXMaUJWTpKrytl2HHMOgcWbq4iOkpq.ghXEAO/Erej6hawObOe"], ["admin", true], ["created_at", "2023-03-15 15:00:32.711139"], ["updated_at", "2023-03-15 15:00:32.711139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2023-03-15 18:00:32 +0300
Redirected to http://www.example.com/users/15
  Rendering layout layouts/application.html.erb
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 2492)
  Rendering categories/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 18:00:32 +0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
Started POST "/categories" for 127.0.0.1 at 2023-03-15 18:00:32 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 15:00:32.721695"], ["updated_at", "2023-03-15 15:00:32.721695"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/14
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1866)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 16]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 15:00:32.727421"], ["updated_at", "2023-03-15 15:00:32.727421"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered categories/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 10392)
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$FOcuKwJiygalfj1BqH3zP.uRMUO5ha9sMcoo.DY2wVxfh4IQ9HpUm"], ["admin", true], ["created_at", "2023-03-15 15:00:32.730370"], ["updated_at", "2023-03-15 15:00:32.730370"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Travel"}}
Started GET "/categories/15" for 127.0.0.1 at 2023-03-15 18:00:32 +0300
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
Redirected to http://www.example.com/categories
Filter chain halted as :require_admin rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 1637)
Redirected to http://www.example.com/users/9
Completed 302 Found in 8ms (ActiveRecord: 0.2ms | Allocations: 2492)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 18:00:32 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ListCategoriesTest: test_should_show_categories_listing
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 15:00:32.741495"], ["updated_at", "2023-03-15 15:00:32.741495"]]
Processing by CategoriesController#new as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Travel"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Travel"], ["created_at", "2023-03-15 15:00:32.743172"], ["updated_at", "2023-03-15 15:00:32.743172"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/categories" for 127.0.0.1 at 2023-03-15 18:00:32 +0300
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
Processing by CategoriesController#index as HTML
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 188)
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 15]]
  Rendered categories/_form.html.erb (Duration: 2.9ms | Allocations: 2546)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3201)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" LIMIT $1 OFFSET $2[0m  [["LIMIT", 5], ["OFFSET", 0]]
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 15], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 1.1ms | Allocations: 660)
  Rendered categories/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2293)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 24]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 25]]
  Rendered categories/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 10791)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 1.4ms | Allocations: 836)
  Rendered shared/_messages.html.erb (Duration: 0.5ms | Allocations: 199)
  Rendered shared/_footer.html.erb (Duration: 0.3ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 1269.1ms | Allocations: 56754)
Completed 200 OK in 1275ms (Views: 1268.0ms | ActiveRecord: 2.6ms | Allocations: 60498)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_reject_invalid_category_submission
-------------------------------------------------------------------------------------
  Rendered shared/_navigation.html.erb (Duration: 1.2ms | Allocations: 830)
  Rendered shared/_messages.html.erb (Duration: 0.4ms | Allocations: 187)
  Rendered shared/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 1242.3ms | Allocations: 42049)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Completed 200 OK in 1245ms (Views: 1240.0ms | ActiveRecord: 3.7ms | Allocations: 44536)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$uCGNbE98wEz3UqIl4vD52ejjyZAd5pwJN7OrwSGgto.dURsbKg.zW"], ["admin", true], ["created_at", "2023-03-15 15:00:33.992214"], ["updated_at", "2023-03-15 15:00:33.992214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Started POST "/login" for 127.0.0.1 at 2023-03-15 18:00:33 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
CreateCategoryTest: test_get_new_category_form_and_create_category
------------------------------------------------------------------
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."username") = LOWER($1) LIMIT $2[0m  [["username", "test"], ["LIMIT", 1]]
Redirected to http://www.example.com/users/11
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1080)
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER($1) LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "email", "password_digest", "admin", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["username", "test"], ["email", "test@example.com"], ["password_digest", "$2a$04$5VBhaEpvG5GUdY3hS.ZETO.EioEdog6UufSVY/hXrTQxf6mWOYadG"], ["admin", true], ["created_at", "2023-03-15 15:00:34.000750"], ["updated_at", "2023-03-15 15:00:34.000750"]]
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 18:00:34 +0300
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[Webpacker] Everything's up-to-date. Nothing to do
Started POST "/login" for 127.0.0.1 at 2023-03-15 18:00:34 +0300
Processing by CategoriesController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendered shared/_navigation.html.erb (Duration: 1.2ms | Allocations: 1086)
  Rendered shared/_messages.html.erb (Duration: 0.3ms | Allocations: 194)
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendered shared/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 1259.1ms | Allocations: 45306)
Completed 200 OK in 1263ms (Views: 1260.8ms | ActiveRecord: 0.1ms | Allocations: 48308)
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 180)
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"test@example.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  Rendered categories/_form.html.erb (Duration: 2.2ms | Allocations: 1760)
  Rendered categories/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2140)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
CategoryTest: test_category_should_be_valid
-------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Redirected to http://www.example.com/users/17
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1040)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
CategoryTest: test_name_should_not_be_too_long
----------------------------------------------
  Rendered shared/_navigation.html.erb (Duration: 0.4ms | Allocations: 531)
  Rendered shared/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 5594)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.1ms | Allocations: 6589)
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aaaaaaaaaaaaaaaaaaaaaaaaaa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Started GET "/categories/new" for 127.0.0.1 at 2023-03-15 18:00:34 +0300
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
Started POST "/categories" for 127.0.0.1 at 2023-03-15 18:00:34 +0300
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
Processing by CategoriesController#new as HTML
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>" "}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 15:00:34.015158"], ["updated_at", "2023-03-15 15:00:34.015158"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", " "], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  Rendering layout layouts/application.html.erb
  Rendering categories/new.html.erb within layouts/application
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoryTest: test_name_should_not_be_too_short
-----------------------------------------------
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "aa"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 180)
  Rendered shared/_errors.html.erb (Duration: 1.2ms | Allocations: 1015)
  Rendered categories/_form.html.erb (Duration: 3.3ms | Allocations: 2692)
  Rendered categories/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2773)
  Rendered categories/_form.html.erb (Duration: 3.6ms | Allocations: 1760)
  Rendered categories/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2140)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 0.3ms | Allocations: 496)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_messages.html.erb (Duration: 0.2ms | Allocations: 18)
  Rendered shared/_navigation.html.erb (Duration: 1.0ms | Allocations: 850)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 6019)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.4ms | Allocations: 7386)
  Rendered shared/_navigation.html.erb (Duration: 0.4ms | Allocations: 531)
  Rendered shared/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered shared/_messages.html.erb (Duration: 0.3ms | Allocations: 186)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 5598)
Completed 200 OK in 10ms (Views: 8.4ms | ActiveRecord: 0.1ms | Allocations: 6580)
  Rendered shared/_footer.html.erb (Duration: 0.2ms | Allocations: 134)
  Rendered layout layouts/application.html.erb (Duration: 1277.5ms | Allocations: 34491)
Completed 200 OK in 1292ms (Views: 1278.0ms | ActiveRecord: 3.9ms | Allocations: 44298)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Started POST "/categories" for 127.0.0.1 at 2023-03-15 18:00:34 +0300
Processing by CategoriesController#create as HTML
  Parameters: {"category"=>{"name"=>"Sports"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "categories" WHERE "categories"."name" = $1 LIMIT $2[0m  [["name", "Sports"], ["LIMIT", 1]]
  [1m[36mCategory Create (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sports"], ["created_at", "2023-03-15 15:00:34.030275"], ["updated_at", "2023-03-15 15:00:34.030275"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/categories/26
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1401)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
Started GET "/categories/26" for 127.0.0.1 at 2023-03-15 18:00:34 +0300
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"26"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1[0m  [["category_id", 26]]
  [1m[36mArticle Load (0.1ms)[0m  [1m[34mSELECT "articles".* FROM "articles" INNER JOIN "article_categories" ON "articles"."id" = "article_categories"."article_id" WHERE "article_categories"."category_id" = $1 LIMIT $2 OFFSET $3[0m  [["category_id", 26], ["LIMIT", 5], ["OFFSET", 0]]
  Rendered articles/_article.html.erb (Duration: 0.8ms | Allocations: 574)
  Rendered categories/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1400)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navigation.html.erb (Duration: 0.3ms | Allocations: 496)
  Rendered shared/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered shared/_footer.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 4652)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.5ms | Allocations: 5938)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
